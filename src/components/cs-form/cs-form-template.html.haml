/ CloudStorm Form component
/ Can be used on its own or be generated by a CSWizard
/ Iterates over the fields of a form and renders CSField components for each field


.form-header{ "ng-switch" => "csFormOptions['form-mode']" }
  %h3{ "ng-switch-when" => "create" }
    Új {{formResource.descriptor.name}} felvétele
  %span{ "ng-switch-when" => "edit" }
    %h4.divided
      {{editableItem.$display_name()}}
      %small szerkesztése

%form{ "name" => "csForm",
       "novalidate" => "",
       "ng-transclude" => "fields" }  
  %cs-field.form-group.field{ "ng-repeat" => "field in fields track by $index",
                              "form-item" => "editableItem",
                              "field" => "field",
                              "form-mode" => "formMode",
                              "cs-field-options" => "csFormOptions",
                              "create-resources" => "createResources()",
                              "ng-show" => "isFieldVisible(field.attribute)" }

.form-group.form-actions{ "ng-transclude" => "actions" }
  .actions-inner
    .btn-tooltip-wrapper{ "uib-tooltip" => "{{validationText()}}",
                          "tooltip-placement" => "right",
                          "tooltip-trigger" => "mouseenter",
                          "tooltip-enable"=> "csForm.$invalid" }

      %button.btn.btn-success{ "ng-class" => "{'disabled': csForm.$invalid}",
                               "ng-click" => "submit()",
                               "type" => "button" }
        {{ csFormOptions['texts']['buttons']['submit'] || 'Submit' }}
    %button.btn.btn-link{ "ng-click" => "cancel()",
                          "type" => "button" }
      {{ csFormOptions['texts']['buttons']['cancel'] || 'Cancel' }}
    %span.help-block{ "ng-if" => "field.errors.length > 0" }

    .checkbox.create-another{ "ng-if" => "formMode == 'create' && wizardPanelIndex == 0" }
      %label
        %input{ "ng-model" => "csFormOptions['keep-first']",
                type: "checkbox" }
          Create another
